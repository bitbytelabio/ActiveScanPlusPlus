/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * To learn more about Gradle by exploring our Samples at https://docs.gradle.org/8.5/samples
 */
apply plugin: 'java'

sourceCompatibility = JavaVersion.VERSION_17
targetCompatibility = JavaVersion.VERSION_17

repositories {
    // Use Maven Central for resolving dependencies.
    // You can declare any Maven/Ivy/file repository here.
    mavenCentral()
}

dependencies {
    // implementation 'net.portswigger.burp.extender:montoya-api:0.9.25'
    implementation 'net.portswigger.burp.extensions:montoya-api:2023.3'

    testRuntimeOnly files("//mnt/Projects/BurpSuitePro/burpsuite_pro_v2023.12.1.jar")
}

sourceSets {
    main {
        java {
            srcDirs = ['src']
        }
    }
}

task flatJar(type: Jar) {
    manifest {
        attributes 'Main-Class': 'burp.StartBurp'
    }
    from {
        configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }
    }
    with jar
}